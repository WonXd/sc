-- FINAL GUI SYSTEM DENGAN AUTO-MINIMIZE SAAT TOMBOL DI TEKAN
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "FinalGUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- FRAME UTAMA
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 250, 0, 200)
MainFrame.Position = UDim2.new(0.5, -125, 0.5, -100)
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.BorderSizePixel = 2
MainFrame.BorderColor3 = Color3.fromRGB(255, 255, 255)
MainFrame.Parent = ScreenGui

-- JUDUL
local Title = Instance.new("TextLabel")
Title.Text = "JSY MENU"
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 20
Title.Parent = MainFrame

-- TOMBOL CHEAT
local CheatButton = Instance.new("TextButton")
CheatButton.Text = "Cheat"
CheatButton.Size = UDim2.new(0, 100, 0, 30)
CheatButton.Position = UDim2.new(0.5, -50, 0, 60)
CheatButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
CheatButton.BorderSizePixel = 2
CheatButton.BorderColor3 = Color3.fromRGB(255, 255, 255)
CheatButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CheatButton.Parent = MainFrame

-- TOMBOL TELEPORT
local TeleportButton = Instance.new("TextButton")
TeleportButton.Text = "Teleport"
TeleportButton.Size = UDim2.new(0, 100, 0, 30)
TeleportButton.Position = UDim2.new(0.5, -50, 0, 140)
TeleportButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
TeleportButton.BorderSizePixel = 2
TeleportButton.BorderColor3 = Color3.fromRGB(255, 255, 255)
TeleportButton.TextColor3 = Color3.fromRGB(255, 255, 255)
TeleportButton.Parent = MainFrame

-- LABEL UPDATE
local UpdateNote = Instance.new("TextLabel")
UpdateNote.Text = "broadcast : update Jalan di udara bisa semua avatar"
UpdateNote.Size = UDim2.new(1, 0, 0, 20)
UpdateNote.Position = UDim2.new(0, 0, 0, 180)
UpdateNote.BackgroundTransparency = 1
UpdateNote.TextColor3 = Color3.fromRGB(255, 255, 255)
UpdateNote.Font = Enum.Font.SourceSansBold
UpdateNote.TextSize = 14
UpdateNote.Parent = MainFrame

-- TOMBOL MINIMIZE
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Text = "-"
MinimizeButton.Size = UDim2.new(0, 30, 0, 30)
MinimizeButton.Position = UDim2.new(1, -35, 0, 3)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
MinimizeButton.BorderSizePixel = 2
MinimizeButton.BorderColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.Parent = MainFrame

-- TOMBOL RESTORE (floating)
local RestoreButton = Instance.new("TextButton")
RestoreButton.Text = "ðŸ’½"
RestoreButton.Size = UDim2.new(0, 30, 0, 30)
RestoreButton.Position = UDim2.new(1, -35, 0.5, -15)
RestoreButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
RestoreButton.BorderSizePixel = 2
RestoreButton.BorderColor3 = Color3.fromRGB(255, 255, 255)
RestoreButton.TextColor3 = Color3.fromRGB(255, 255, 255)
RestoreButton.Visible = false
RestoreButton.Parent = ScreenGui

-- STATE
local isMinimized = false

local normalSize = UDim2.new(0, 250, 0, 200)
local normalPos = UDim2.new(0.5, -125, 0.5, -100)
local minimizedSize = UDim2.new(0, 0, 0, 0) -- hide frame

-- FUNCTION MINIMIZE (tombol restore muncul)
local function minimizeGUI()
    isMinimized = true
    MainFrame.Visible = false
    RestoreButton.Visible = true
end

-- FUNCTION RESTORE
local function restoreGUI()
    isMinimized = false
    MainFrame.Visible = true
    RestoreButton.Visible = false
end

-- TOMBOL MINIMIZE
MinimizeButton.MouseButton1Click:Connect(minimizeGUI)
RestoreButton.MouseButton1Click:Connect(restoreGUI)

-- TOMBOL CHEAT
CheatButton.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/WonXd/sc/refs/heads/main/final%20gui.txt"))()
    minimizeGUI() -- otomatis minimize setelah ditekan
end)

-- TOMBOL TELEPORT
TeleportButton.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/WonXd/sc/refs/heads/main/teleport.txt"))()
    minimizeGUI() -- otomatis minimize setelah ditekan
end)

